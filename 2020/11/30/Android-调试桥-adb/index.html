<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="生如夏花 汝予可荆"><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.5"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.5"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><title>Android 调试桥 (adb) | 丰囖囖的博客</title><meta name="generator" content="Hexo 5.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Android 调试桥 (adb)</h1><a id="logo" href="/.">丰囖囖的博客</a><p class="description">嘴角上扬的时候任何事物都变得可爱起来 ​</p></div><div id="nav-menu"></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="search"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Android 调试桥 (adb)</h1><div class="post-meta"><a href="/2020/11/30/Android-%E8%B0%83%E8%AF%95%E6%A1%A5-adb/#comments" class="comment-count"></a><p><span class="date">Nov 30, 2020</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>Hits</i></i></span></p></div><div class="post-content"><h2 id="Android-调试桥-adb"><a href="#Android-调试桥-adb" class="headerlink" title="Android 调试桥 (adb)"></a><strong>Android 调试桥 (adb)</strong></h2><h2 id="1-基本用法"><a href="#1-基本用法" class="headerlink" title="1- 基本用法"></a><strong>1- 基本用法</strong></h2><hr>
<p><strong>1.1- 命令语法</strong></p>
<p>adb 命令的基本语法如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb [-d|-e|-s &lt;serialNumber&gt;] &lt;command&gt;</span><br></pre></td></tr></table></figure>
<p>如果只有一个设备/模拟器连接时，可以省略掉 [-d|-e|-s <serialNumber>] 这一部分，直接使用 adb <command>。</p>
<p>如果有多个设备/模拟器连接，则需要为命令指定目标设备。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>指定当前唯一通过 USB 连接的 Android 设备为命令目标</td>
</tr>
<tr>
<td>-e</td>
<td>指定当前唯一运行的模拟器为命令目标</td>
</tr>
<tr>
<td>-s &lt;**serialNumber**&gt;</td>
<td>指定相应 serialNumber 号的设备/模拟器为命令目标</td>
</tr>
</tbody></table>
<p>在多个设备/模拟器连接的情况下较常用的是 -s <serialNumber> 参数，serialNumber 可以通过 adb devices 命令获取</p>
<p><strong>1.2- 启动/停止</strong></p>
<p>启动 adb server 命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb start-server</span><br></pre></td></tr></table></figure>

<p>（一般无需手动执行此命令，在运行 adb 命令时若发现 adb server 没有启动会自动调起。）</p>
<p>停止 adb server 命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb kill-server</span><br></pre></td></tr></table></figure>

<p><strong>1.3- 查看 adb 版本</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb version</span><br></pre></td></tr></table></figure>
<p>示例输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apple@fenglolodeMacBook-Pro ~ % adb devices -l</span><br><span class="line">List of devices attached</span><br><span class="line"><span class="number">8b</span>112f28               device usb:<span class="number">336658432</span>X product:virgo model:MI_NOTE_LTE device:virgo transport_id:<span class="number">3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>1.4- 以 root 权限运行 adbd</strong></p>
<p>adb 的运行原理是 PC 端的 adb server 与手机端的守护进程 adbd 建立连接，然后 PC 端的 adb client 通过 adb server 转发命令，adbd 接收命令后解析运行。</p>
<p>所以如果 adbd 以普通权限执行，有些需要 root 权限才能执行的命令无法直接用 adb xxx 执行。这时可以 adb shell 然后 su 后执行命令，也可以让 adbd 以 root 权限执行，这个就能随意执行高权限命令了。</p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb root</span><br></pre></td></tr></table></figure>

<p>正常输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">restarting adbd as root</span><br></pre></td></tr></table></figure>

<p>现在再运行 adb shell，看看命令行提示符是不是变成 # 了？</p>
<p>有些手机 root 后也无法通过 <em>adb root</em> 命令让 adbd 以 root 权限执行，比如三星的部分机型，会提示 <em>adbd cannot run as root in production builds</em>，此时可以先安装 adbd Insecure，然后 <em>adb root</em> 试试。</p>
<p>相应地，如果要恢复 adbd 为非 root 权限的话，可以使用 <em>adb unroot</em> 命令。</p>
<p><strong>1.5- 指定 adb server 的网络端口</strong><br>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb -P &lt;port&gt; start-server</span><br></pre></td></tr></table></figure>
<p>默认端口为 5037。</p>
<hr>
<h2 id="2-设备连接管理"><a href="#2-设备连接管理" class="headerlink" title="2- 设备连接管理"></a><strong>2- 设备连接管理</strong></h2><hr>
<p><strong>2.1- 查询已连接设备/模拟器</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb devices</span><br></pre></td></tr></table></figure>

<p>输出示例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List of devices attached</span><br><span class="line">cf264b8f	device</span><br><span class="line">emulator<span class="number">-5554</span>	device</span><br><span class="line"><span class="number">10.129</span><span class="number">.164</span><span class="number">.6</span>:<span class="number">5555</span>	device</span><br></pre></td></tr></table></figure>

<p>输出格式为 [serialNumber] [state]，serialNumber 即我们常说的 SN，state 有如下几种：</p>
<p>offline —— 表示设备未连接成功或无响应。</p>
<p>device —— 设备已连接。注意这个状态并不能标识 Android 系统已经完全启动和可操作，在设备启动过程中设备实例就可连接到 adb，但启动完毕后系统才处于可操作状态。</p>
<p>no device —— 没有设备/模拟器连接。</p>
<hr>
<h2 id="3-应用管理"><a href="#3-应用管理" class="headerlink" title="3- 应用管理"></a><strong>3- 应用管理</strong></h2><hr>
<p><strong>3.1- 查看应用列表</strong></p>
<p>查看应用列表的基本命令格式是</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm <span class="built_in">list</span> packages [-f] [-d] [-e] [-s] [<span class="number">-3</span>] [-i] [-u] [--user USER_ID] [FILTER]</span><br></pre></td></tr></table></figure>

<p>即在 adb shell pm list packages 的基础上可以加一些参数进行过滤查看不同的列表，支持的过滤参数如下：<br>| 参数 | 显示列表 |<br>|–|–|<br>| 无 | 所有应用 |<br>| -f| 显示应用关联的 apk 文件 |<br>| -d | 只显示 disabled 的应用|<br>| -e | 只显示 enabled 的应用 |<br>| -s | 只显示系统应用 |<br>| -3 | 只显示第三方应用 |<br>| -i | 显示应用的 installer |<br>| -u | 包含已卸载应用 |<br>| &lt;**FILTER**&gt; | 包名包含 &lt;**FILTER**&gt; 字符串 |</p>
<p><strong>所有应用</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm <span class="built_in">list</span> packages</span><br></pre></td></tr></table></figure>
<p><strong>系统应用</strong> </p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm <span class="built_in">list</span> packages -s</span><br></pre></td></tr></table></figure>

<p><strong>第三方应用</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm <span class="built_in">list</span> packages <span class="number">-3</span></span><br></pre></td></tr></table></figure>

<p><strong>3.2- 安装 APK</strong></p>
<p>命令格式：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb install [-lrtsdg] &lt;path_to_apk&gt;</span><br></pre></td></tr></table></figure>

<p>参数：</p>
<p>adb install 后面可以跟一些可选参数来控制安装 APK 的行为，可用参数及含义如下：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>-l</td>
<td>将应用安装到保护目录 /mnt/asec</td>
</tr>
<tr>
<td>-r</td>
<td>允许覆盖安装</td>
</tr>
<tr>
<td>-t</td>
<td>允许安装 AndroidManifest.xml 里 application 指定 android:testOnly=”true” 的应用</td>
</tr>
<tr>
<td>-s</td>
<td>将应用安装到 sdcard</td>
</tr>
<tr>
<td>-d</td>
<td>允许降级覆盖安装</td>
</tr>
<tr>
<td>-g</td>
<td>授予所有运行时权限</td>
</tr>
</tbody></table>
<p><strong>3.3- 卸载应用</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb uninstall [-k] &lt;packagename&gt;</span><br></pre></td></tr></table></figure>

<p>&lt;**packagename**&gt; 表示应用的包名，-k 参数可选，表示卸载应用但保留数据和缓存目录。</p>
<p>命令示例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb uninstall com.qihoo360.mobilesafe</span><br></pre></td></tr></table></figure>

<p>表示卸载 360 手机卫士。</p>
<p><strong>3.4- 清除应用数据与缓存</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm clear &lt;packagename&gt;</span><br></pre></td></tr></table></figure>

<p>&lt;**packagename**&gt; 表示应用名包，这条命令的效果相当于在设置里的应用信息界面点击了「清除缓存」和「清除数据」。</p>
<p>命令示例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm clear com.qihoo360.mobilesafe</span><br></pre></td></tr></table></figure>

<p>表示清除 360 手机卫士的数据和缓存。</p>
<p><strong>3.5- 查看应用详细信息</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys package &lt;packagename&gt;</span><br></pre></td></tr></table></figure>

<p>输出中包含很多信息，包括 Activity Resolver Table、Registered ContentProviders、包名、userId、安装后的文件资源代码等路径、版本信息、权限信息和授予状态、签名版本信息等。</p>
<p>&lt;**packagename**&gt; 表示应用包名。</p>
<p>输出示例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br></pre></td><td class="code"><pre><span class="line">Activity Resolver Table:</span><br><span class="line">  Schemes:</span><br><span class="line">      ytmbank:</span><br><span class="line">        <span class="number">67</span>a95af com.zjrc.cba/com.yitong.mobile.biz.launcher.app.SplashActivity</span><br><span class="line"></span><br><span class="line">  Non-Data Actions:</span><br><span class="line">      android.intent.action.MAIN:</span><br><span class="line">        <span class="number">67</span>a95af com.zjrc.cba/com.yitong.mobile.biz.launcher.app.SplashActivity</span><br><span class="line">      cn.jiguang.privates.intent.PushActivity:</span><br><span class="line">        <span class="number">273</span>dbc com.zjrc.cba/cn.jiguang.privates.push.ui.PushActivity</span><br><span class="line">      cn.jiguang.privates.intent.JNotifyActivity:</span><br><span class="line">        ecc145 com.zjrc.cba/cn.jiguang.privates.push.service.JNotifyActivity</span><br><span class="line"></span><br><span class="line">Receiver Resolver Table:</span><br><span class="line">  Non-Data Actions:</span><br><span class="line">      cn.jpush.android.intent.WakedReceiver:</span><br><span class="line">        <span class="number">80f</span>809a com.zjrc.cba/.push.biz.PushWakedResultReceiver</span><br><span class="line">      com.xiaomi.mipush.MESSAGE_ARRIVED:</span><br><span class="line">        <span class="number">8e4</span>ddcb com.zjrc.cba/cn.jiguang.privates.push.xiaomi.receiver.XiaomiMessageReceiver</span><br><span class="line">      com.xiaomi.mipush.ERROR:</span><br><span class="line">        <span class="number">8e4</span>ddcb com.zjrc.cba/cn.jiguang.privates.push.xiaomi.receiver.XiaomiMessageReceiver</span><br><span class="line">      com.huawei.android.push.intent.REGISTRATION:</span><br><span class="line">        b0879a8 com.zjrc.cba/com.huawei.hms.support.api.push.PushReceiver</span><br><span class="line">      android.net.conn.CONNECTIVITY_CHANGE:</span><br><span class="line">        <span class="number">79</span>d2cc1 com.zjrc.cba/cn.jiguang.privates.core.service.PushReceiver</span><br><span class="line">        fd50c66 com.zjrc.cba/com.xiaomi.push.service.receivers.NetworkStatusReceiver</span><br><span class="line">      com.huawei.intent.action.PUSH_DELAY_NOTIFY:</span><br><span class="line">        <span class="number">4618b</span>a7 com.zjrc.cba/com.huawei.hms.support.api.push.PushMsgReceiver</span><br><span class="line">      cn.jiguang.privates.intent.NOTIFICATION_RECEIVED_PROXY:</span><br><span class="line">        <span class="number">79</span>d2cc1 com.zjrc.cba/cn.jiguang.privates.core.service.PushReceiver</span><br><span class="line">      com.zjrc.cba.config.action:</span><br><span class="line">        <span class="number">3f</span>8854 com.zjrc.cba/.config.biz.ConfigReceiver</span><br><span class="line">      com.meizu.flyme.push.intent.UNREGISTER.FEEDBACK:</span><br><span class="line">        b8ed3fd com.zjrc.cba/cn.jiguang.privates.push.meizu.receiver.MeizuMessageReceiver</span><br><span class="line">      cn.jiguang.privates.intent.RECEIVE_MESSAGE:</span><br><span class="line">        <span class="number">31588f</span>2 com.zjrc.cba/.push.biz.PushMessageReceiver</span><br><span class="line">      com.huawei.android.push.intent.RECEIVE:</span><br><span class="line">        b0879a8 com.zjrc.cba/com.huawei.hms.support.api.push.PushReceiver</span><br><span class="line">      com.meizu.c2dm.intent.RECEIVE:</span><br><span class="line">        b8ed3fd com.zjrc.cba/cn.jiguang.privates.push.meizu.receiver.MeizuMessageReceiver</span><br><span class="line">      com.vivo.pushclient.action.RECEIVE:</span><br><span class="line">        d113b43 com.zjrc.cba/cn.jiguang.privates.push.vivo.receiver.VivoMessageReceiver</span><br><span class="line">      com.meizu.cloud.pushservice.action.PUSH_SERVICE_START:</span><br><span class="line">        <span class="number">936</span>d5c0 com.zjrc.cba/com.meizu.cloud.pushsdk.SystemReceiver</span><br><span class="line">      com.meizu.flyme.push.intent.MESSAGE:</span><br><span class="line">        b8ed3fd com.zjrc.cba/cn.jiguang.privates.push.meizu.receiver.MeizuMessageReceiver</span><br><span class="line">      com.meizu.c2dm.intent.REGISTRATION:</span><br><span class="line">        b8ed3fd com.zjrc.cba/cn.jiguang.privates.push.meizu.receiver.MeizuMessageReceiver</span><br><span class="line">      android.intent.action.USER_PRESENT:</span><br><span class="line">        <span class="number">79</span>d2cc1 com.zjrc.cba/cn.jiguang.privates.core.service.PushReceiver</span><br><span class="line">      com.xiaomi.push.PING_TIMER:</span><br><span class="line">        <span class="number">3f</span>9b2f9 com.zjrc.cba/com.xiaomi.push.service.receivers.PingReceiver</span><br><span class="line">      com.xiaomi.mipush.RECEIVE_MESSAGE:</span><br><span class="line">        <span class="number">8e4</span>ddcb com.zjrc.cba/cn.jiguang.privates.push.xiaomi.receiver.XiaomiMessageReceiver</span><br><span class="line">      com.meizu.flyme.push.intent.REGISTER.FEEDBACK:</span><br><span class="line">        b8ed3fd com.zjrc.cba/cn.jiguang.privates.push.meizu.receiver.MeizuMessageReceiver</span><br><span class="line">      com.huawei.intent.action.PUSH:</span><br><span class="line">        <span class="number">4618b</span>a7 com.zjrc.cba/com.huawei.hms.support.api.push.PushMsgReceiver</span><br><span class="line"></span><br><span class="line">Service Resolver Table:</span><br><span class="line">  Non-Data Actions:</span><br><span class="line">      com.huawei.push.msg.NOTIFY_MSG:</span><br><span class="line">        b6f423e com.zjrc.cba/com.huawei.hms.support.api.push.service.HmsMsgService</span><br><span class="line">      cn.jpush.android.intent.DaemonService:</span><br><span class="line">        e82489f com.zjrc.cba/cn.jpush.android.service.DaemonService</span><br><span class="line">      com.heytap.mcs.action.RECEIVE_MCS_MESSAGE:</span><br><span class="line">        <span class="number">9938</span>dec com.zjrc.cba/cn.jiguang.privates.push.oppo.service.OppoHeytapService</span><br><span class="line">      com.coloros.mcs.action.RECEIVE_MCS_MESSAGE:</span><br><span class="line">        <span class="number">99985b</span>5 com.zjrc.cba/cn.jiguang.privates.push.oppo.service.OppoColorosService</span><br><span class="line">      com.huawei.push.msg.PASSBY_MSG:</span><br><span class="line">        b6f423e com.zjrc.cba/com.huawei.hms.support.api.push.service.HmsMsgService</span><br><span class="line">      cn.jiguang.privates.intent.USER_SERVICE:</span><br><span class="line">        c19444a com.zjrc.cba/.push.biz.PushService</span><br><span class="line">      com.huawei.push.action.MESSAGING_EVENT:</span><br><span class="line">        <span class="number">4</span>cccfbb com.zjrc.cba/cn.jiguang.privates.push.huawei.service.HuaweiMessageService</span><br><span class="line"></span><br><span class="line">Permissions:</span><br><span class="line">  Permission [com.zjrc.cba.permission.PROCESS_PUSH_MSG] (<span class="number">8219</span>cd8):</span><br><span class="line">    sourcePackage=com.zjrc.cba</span><br><span class="line">    uid=<span class="number">10091</span> gids=null type=<span class="number">0</span> prot=signature|privileged</span><br><span class="line">    perm=Permission&#123;b29c831 com.zjrc.cba.permission.PROCESS_PUSH_MSG&#125;</span><br><span class="line">    packageSetting=PackageSetting&#123;<span class="number">2</span>af5b16 com.zjrc.cba/<span class="number">10091</span>&#125;</span><br><span class="line">  Permission [com.zjrc.cba.permission.PUSH_WRITE_PROVIDER] (b6eac97):</span><br><span class="line">    sourcePackage=com.zjrc.cba</span><br><span class="line">    uid=<span class="number">10091</span> gids=null type=<span class="number">0</span> prot=signature|privileged</span><br><span class="line">    perm=Permission&#123;a7fae84 com.zjrc.cba.permission.PUSH_WRITE_PROVIDER&#125;</span><br><span class="line">    packageSetting=PackageSetting&#123;<span class="number">2</span>af5b16 com.zjrc.cba/<span class="number">10091</span>&#125;</span><br><span class="line">  Permission [com.zjrc.cba.push.permission.MESSAGE] (da1b66d):</span><br><span class="line">    sourcePackage=com.zjrc.cba</span><br><span class="line">    uid=<span class="number">10091</span> gids=null type=<span class="number">0</span> prot=signature</span><br><span class="line">    perm=Permission&#123;<span class="number">8b</span>e12a2 com.zjrc.cba.push.permission.MESSAGE&#125;</span><br><span class="line">    packageSetting=PackageSetting&#123;<span class="number">2</span>af5b16 com.zjrc.cba/<span class="number">10091</span>&#125;</span><br><span class="line">  Permission [com.zjrc.cba.permission.JPUSH_MESSAGE] (de77b33):</span><br><span class="line">    sourcePackage=com.zjrc.cba</span><br><span class="line">    uid=<span class="number">10091</span> gids=null type=<span class="number">0</span> prot=signature</span><br><span class="line">    perm=Permission&#123;f8b2ef0 com.zjrc.cba.permission.JPUSH_MESSAGE&#125;</span><br><span class="line">    packageSetting=PackageSetting&#123;<span class="number">2</span>af5b16 com.zjrc.cba/<span class="number">10091</span>&#125;</span><br><span class="line">  Permission [com.zjrc.cba.permission.C2D_MESSAGE] (<span class="number">4304</span>c69):</span><br><span class="line">    sourcePackage=com.zjrc.cba</span><br><span class="line">    uid=<span class="number">10091</span> gids=null type=<span class="number">0</span> prot=signature</span><br><span class="line">    perm=Permission&#123;<span class="number">20</span>eb6ee com.zjrc.cba.permission.C2D_MESSAGE&#125;</span><br><span class="line">    packageSetting=PackageSetting&#123;<span class="number">2</span>af5b16 com.zjrc.cba/<span class="number">10091</span>&#125;</span><br><span class="line">  Permission [com.zjrc.cba.config.send] (<span class="number">614978f</span>):</span><br><span class="line">    sourcePackage=com.zjrc.cba</span><br><span class="line">    uid=<span class="number">10091</span> gids=null type=<span class="number">0</span> prot=signature</span><br><span class="line">    perm=Permission&#123;<span class="number">48</span>c4a1c com.zjrc.cba.config.send&#125;</span><br><span class="line">    packageSetting=PackageSetting&#123;<span class="number">2</span>af5b16 com.zjrc.cba/<span class="number">10091</span>&#125;</span><br><span class="line">  Permission [com.zjrc.cba.permission.MIPUSH_RECEIVE] (bf84625):</span><br><span class="line">    sourcePackage=com.zjrc.cba</span><br><span class="line">    uid=<span class="number">10091</span> gids=null type=<span class="number">0</span> prot=signature</span><br><span class="line">    perm=Permission&#123;<span class="number">3b</span>353fa com.zjrc.cba.permission.MIPUSH_RECEIVE&#125;</span><br><span class="line">    packageSetting=PackageSetting&#123;<span class="number">2</span>af5b16 com.zjrc.cba/<span class="number">10091</span>&#125;</span><br><span class="line">  Permission [com.zjrc.cba.permission.PUSH_PROVIDER] (<span class="number">44</span>d1dab):</span><br><span class="line">    sourcePackage=com.zjrc.cba</span><br><span class="line">    uid=<span class="number">10091</span> gids=null type=<span class="number">0</span> prot=signature|privileged</span><br><span class="line">    perm=Permission&#123;<span class="number">121</span>ec08 com.zjrc.cba.permission.PUSH_PROVIDER&#125;</span><br><span class="line">    packageSetting=PackageSetting&#123;<span class="number">2</span>af5b16 com.zjrc.cba/<span class="number">10091</span>&#125;</span><br><span class="line"></span><br><span class="line">Registered ContentProviders:</span><br><span class="line">  com.zjrc.cba/com.huawei.hms.update.provider.UpdateProvider:</span><br><span class="line">    Provider&#123;<span class="number">78</span>c1fa1 com.zjrc.cba/com.huawei.hms.update.provider.UpdateProvider&#125;</span><br><span class="line">  com.zjrc.cba/com.yitong.miniprogram.framework.android.provider.YTFileProvider:</span><br><span class="line">    Provider&#123;fd2b5c6 com.zjrc.cba/com.yitong.miniprogram.framework.android.provider.YTFileProvider&#125;</span><br><span class="line">  com.zjrc.cba/com.huawei.hms.support.api.push.PushProvider:</span><br><span class="line">    Provider&#123;d3de987 com.zjrc.cba/com.huawei.hms.support.api.push.PushProvider&#125;</span><br><span class="line">  com.zjrc.cba/cn.jiguang.privates.core.service.DataProvider:</span><br><span class="line">    Provider&#123;<span class="number">5</span>edc0b4 com.zjrc.cba/cn.jiguang.privates.core.service.DataProvider&#125;</span><br><span class="line">  com.zjrc.cba/cn.jpush.android.service.DownloadProvider:</span><br><span class="line">    Provider&#123;<span class="number">62</span>a14dd com.zjrc.cba/cn.jpush.android.service.DownloadProvider&#125;</span><br><span class="line">  com.zjrc.cba/android.support.v4.content.FileProvider:</span><br><span class="line">    Provider&#123;<span class="number">2346852</span> com.zjrc.cba/android.support.v4.content.FileProvider&#125;</span><br><span class="line">  com.zjrc.cba/com.huawei.agconnect.core.provider.AGConnectInitializeProvider:</span><br><span class="line">    Provider&#123;<span class="number">9859723</span> com.zjrc.cba/com.huawei.agconnect.core.provider.AGConnectInitializeProvider&#125;</span><br><span class="line">  com.zjrc.cba/com.yitong.mobile.framework.utils.YTFileProvider:</span><br><span class="line">    Provider&#123;a003420 com.zjrc.cba/com.yitong.mobile.framework.utils.YTFileProvider&#125;</span><br><span class="line"></span><br><span class="line">ContentProvider Authorities:</span><br><span class="line">  [com.zjrc.cba.DownloadProvider]:</span><br><span class="line">    Provider&#123;<span class="number">62</span>a14dd com.zjrc.cba/cn.jpush.android.service.DownloadProvider&#125;</span><br><span class="line">      applicationInfo=ApplicationInfo&#123;<span class="number">2b</span>821d9 com.zjrc.cba&#125;</span><br><span class="line">  [com.zjrc.cba.miniprogram.provider]:</span><br><span class="line">    Provider&#123;fd2b5c6 com.zjrc.cba/com.yitong.miniprogram.framework.android.provider.YTFileProvider&#125;</span><br><span class="line">      applicationInfo=ApplicationInfo&#123;<span class="number">2b</span>821d9 com.zjrc.cba&#125;</span><br><span class="line">  [com.zjrc.cba.hms.update.provider]:</span><br><span class="line">    Provider&#123;<span class="number">78</span>c1fa1 com.zjrc.cba/com.huawei.hms.update.provider.UpdateProvider&#125;</span><br><span class="line">      applicationInfo=ApplicationInfo&#123;<span class="number">2b</span>821d9 com.zjrc.cba&#125;</span><br><span class="line">  [com.zjrc.cba.huawei.push.provider]:</span><br><span class="line">    Provider&#123;d3de987 com.zjrc.cba/com.huawei.hms.support.api.push.PushProvider&#125;</span><br><span class="line">      applicationInfo=ApplicationInfo&#123;<span class="number">2b</span>821d9 com.zjrc.cba&#125;</span><br><span class="line">  [com.zjrc.cba.provider]:</span><br><span class="line">    Provider&#123;<span class="number">2346852</span> com.zjrc.cba/android.support.v4.content.FileProvider&#125;</span><br><span class="line">      applicationInfo=ApplicationInfo&#123;<span class="number">2b</span>821d9 com.zjrc.cba&#125;</span><br><span class="line">  [com.zjrc.cba.AGCInitializeProvider]:</span><br><span class="line">    Provider&#123;<span class="number">9859723</span> com.zjrc.cba/com.huawei.agconnect.core.provider.AGConnectInitializeProvider&#125;</span><br><span class="line">      applicationInfo=ApplicationInfo&#123;<span class="number">2b</span>821d9 com.zjrc.cba&#125;</span><br><span class="line">  [com.zjrc.cba.DataProvider]:</span><br><span class="line">    Provider&#123;<span class="number">5</span>edc0b4 com.zjrc.cba/cn.jiguang.privates.core.service.DataProvider&#125;</span><br><span class="line">      applicationInfo=ApplicationInfo&#123;<span class="number">2b</span>821d9 com.zjrc.cba&#125;</span><br><span class="line"></span><br><span class="line">Key Set Manager:</span><br><span class="line">  [com.zjrc.cba]</span><br><span class="line">      Signing KeySets: <span class="number">198</span></span><br><span class="line"></span><br><span class="line">Packages:</span><br><span class="line">  Package [com.zjrc.cba] (<span class="number">2</span>af5b16):</span><br><span class="line">    userId=<span class="number">10091</span></span><br><span class="line">    pkg=Package&#123;<span class="number">98</span>cb79e com.zjrc.cba&#125;</span><br><span class="line">    codePath=/data/app/com.zjrc.cba<span class="number">-1</span></span><br><span class="line">    dexoptNeeded=<span class="literal">false</span></span><br><span class="line">    resourcePath=/data/app/com.zjrc.cba<span class="number">-1</span></span><br><span class="line">    legacyNativeLibraryDir=/data/app/com.zjrc.cba<span class="number">-1</span>/lib</span><br><span class="line">    primaryCpuAbi=armeabi-v7a</span><br><span class="line">    secondaryCpuAbi=null</span><br><span class="line">    versionCode=<span class="number">100</span> targetSdk=<span class="number">30</span></span><br><span class="line">    versionName=<span class="number">1.1</span><span class="number">.0</span></span><br><span class="line">    splits=[base]</span><br><span class="line">    applicationInfo=ApplicationInfo&#123;<span class="number">2b</span>821d9 com.zjrc.cba&#125;</span><br><span class="line">    flags=[ DEBUGGABLE HAS_CODE ALLOW_CLEAR_USER_DATA LARGE_HEAP ]</span><br><span class="line">    dataDir=/data/user/<span class="number">0</span>/com.zjrc.cba</span><br><span class="line">    supportsScreens=[small, medium, large, xlarge, resizeable, anyDensity]</span><br><span class="line">    timeStamp=<span class="number">2020</span><span class="number">-11</span><span class="number">-23</span> <span class="number">16</span>:<span class="number">09</span>:<span class="number">48</span></span><br><span class="line">    firstInstallTime=<span class="number">2020</span><span class="number">-11</span><span class="number">-23</span> <span class="number">16</span>:<span class="number">10</span>:<span class="number">03</span></span><br><span class="line">    lastUpdateTime=<span class="number">2020</span><span class="number">-11</span><span class="number">-23</span> <span class="number">16</span>:<span class="number">10</span>:<span class="number">03</span></span><br><span class="line">    signatures=PackageSignatures&#123;<span class="number">310827f</span> [<span class="number">304724</span>c]&#125;</span><br><span class="line">    installPermissionsFixed=<span class="literal">true</span> installStatus=<span class="number">1</span></span><br><span class="line">    pkgFlags=[ DEBUGGABLE HAS_CODE ALLOW_CLEAR_USER_DATA LARGE_HEAP ]</span><br><span class="line">    declared permissions:</span><br><span class="line">      com.zjrc.cba.config.send: prot=signature, INSTALLED</span><br><span class="line">      com.zjrc.cba.permission.PROCESS_PUSH_MSG: prot=signature|privileged, INSTALLED</span><br><span class="line">      com.zjrc.cba.permission.PUSH_PROVIDER: prot=signature|privileged, INSTALLED</span><br><span class="line">      com.zjrc.cba.permission.PUSH_WRITE_PROVIDER: prot=signature|privileged, INSTALLED</span><br><span class="line">      com.zjrc.cba.permission.JPUSH_MESSAGE: prot=signature, INSTALLED</span><br><span class="line">      com.zjrc.cba.push.permission.MESSAGE: prot=signature, INSTALLED</span><br><span class="line">      com.zjrc.cba.permission.C2D_MESSAGE: prot=signature, INSTALLED</span><br><span class="line">      com.zjrc.cba.permission.MIPUSH_RECEIVE: prot=signature, INSTALLED</span><br><span class="line">    requested permissions:</span><br><span class="line">      android.permission.READ_PHONE_STATE</span><br><span class="line">      android.permission.ACCESS_NETWORK_STATE</span><br><span class="line">      android.permission.INTERNET</span><br><span class="line">      android.permission.WRITE_EXTERNAL_STORAGE</span><br><span class="line">      android.permission.CALL_PHONE</span><br><span class="line">      android.permission.ACCESS_FINE_LOCATION</span><br><span class="line">      android.permission.ACCESS_WIFI_STATE</span><br><span class="line">      android.permission.CHANGE_WIFI_STATE</span><br><span class="line">      android.permission.ACCESS_COARSE_LOCATION</span><br><span class="line">      android.permission.USE_FINGERPRINT</span><br><span class="line">      android.permission.REQUEST_INSTALL_PACKAGES</span><br><span class="line">      android.permission.VIBRATE</span><br><span class="line">      android.permission.SYSTEM_ALERT_WINDOW</span><br><span class="line">      android.permission.CAMERA</span><br><span class="line">      android.permission.FLASHLIGHT</span><br><span class="line">      android.permission.READ_CONTACTS</span><br><span class="line">      android.permission.READ_EXTERNAL_STORAGE</span><br><span class="line">      android.permission.GET_TASKS</span><br><span class="line">      android.permission.RESTART_PACKAGES</span><br><span class="line">      android.permission.BLUETOOTH</span><br><span class="line">      android.permission.BLUETOOTH_ADMIN</span><br><span class="line">      android.permission.WAKE_LOCK</span><br><span class="line">      android.permission.RECEIVE_USER_PRESENT</span><br><span class="line">      android.permission.MOUNT_UNMOUNT_FILESYSTEMS</span><br><span class="line">      android.permission.ACCESS_BACKGROUND_LOCATION</span><br><span class="line">      android.permission.ACCESS_LOCATION_EXTRA_COMMANDS</span><br><span class="line">      android.permission.READ_PRECISE_PHONE_STATE</span><br><span class="line">      com.zjrc.cba.permission.PROCESS_PUSH_MSG</span><br><span class="line">      com.zjrc.cba.permission.PUSH_PROVIDER</span><br><span class="line">      com.huawei.appmarket.service.commondata.permission.GET_COMMON_DATA</span><br><span class="line">      android.permission.WRITE_CONTACTS</span><br><span class="line">      android.permission.READ_CALENDAR</span><br><span class="line">      android.permission.WRITE_CALENDAR</span><br><span class="line">      com.zjrc.cba.permission.JPUSH_MESSAGE</span><br><span class="line">      com.meizu.flyme.push.permission.RECEIVE</span><br><span class="line">      com.zjrc.cba.push.permission.MESSAGE</span><br><span class="line">      com.meizu.c2dm.permission.RECEIVE</span><br><span class="line">      com.zjrc.cba.permission.C2D_MESSAGE</span><br><span class="line">      com.coloros.mcs.permission.RECIEVE_MCS_MESSAGE</span><br><span class="line">      com.heytap.mcs.permission.RECIEVE_MCS_MESSAGE</span><br><span class="line">      com.zjrc.cba.permission.MIPUSH_RECEIVE</span><br><span class="line">    install permissions:</span><br><span class="line">      android.permission.RESTART_PACKAGES: granted=<span class="literal">true</span></span><br><span class="line">      com.zjrc.cba.permission.PROCESS_PUSH_MSG: granted=<span class="literal">true</span></span><br><span class="line">      com.zjrc.cba.push.permission.MESSAGE: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.BLUETOOTH: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.GET_TASKS: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.INTERNET: granted=<span class="literal">true</span></span><br><span class="line">      com.zjrc.cba.permission.JPUSH_MESSAGE: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.BLUETOOTH_ADMIN: granted=<span class="literal">true</span></span><br><span class="line">      com.zjrc.cba.permission.C2D_MESSAGE: granted=<span class="literal">true</span></span><br><span class="line">      com.zjrc.cba.permission.MIPUSH_RECEIVE: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.ACCESS_LOCATION_EXTRA_COMMANDS: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.CHANGE_WIFI_STATE: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.FLASHLIGHT: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.ACCESS_NETWORK_STATE: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.USE_FINGERPRINT: granted=<span class="literal">true</span></span><br><span class="line">      com.zjrc.cba.permission.PUSH_PROVIDER: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.VIBRATE: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.ACCESS_WIFI_STATE: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.REQUEST_INSTALL_PACKAGES: granted=<span class="literal">true</span></span><br><span class="line">      android.permission.WAKE_LOCK: granted=<span class="literal">true</span></span><br><span class="line">    User <span class="number">0</span>:  installed=<span class="literal">true</span> hidden=<span class="literal">false</span> stopped=<span class="literal">true</span> notLaunched=<span class="literal">false</span> enabled=<span class="number">0</span></span><br><span class="line">      gids=[<span class="number">3002</span>, <span class="number">3003</span>, <span class="number">3001</span>]</span><br><span class="line">      runtime permissions:</span><br><span class="line">        android.permission.READ_PHONE_STATE: granted=<span class="literal">true</span></span><br><span class="line">        android.permission.CAMERA: granted=<span class="literal">true</span></span><br><span class="line">      disabledComponents:</span><br><span class="line">        com.xiaomi.push.service.XMPushService</span><br><span class="line">      enabledComponents:</span><br><span class="line">        cn.jpush.android.service.DaemonService</span><br><span class="line">        cn.jpush.android.service.DownloadProvider</span><br></pre></td></tr></table></figure>

<p><strong>3.6- 查看应用安装路径</strong></p>
<p>命令:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm path &lt;PACKAGE&gt;</span><br></pre></td></tr></table></figure>

<p>输出应用安装路径</p>
<p>输出示例:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm path ecarx.weather</span><br><span class="line"></span><br><span class="line">package:/data/app/ecarx.weather<span class="number">-1.</span>apk</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="4-文件管理"><a href="#4-文件管理" class="headerlink" title="4- 文件管理"></a>4- 文件管理</h2><hr>
<p><strong>4.1- 复制设备里的文件到电脑</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull &lt;设备里的文件路径&gt; [电脑上的目录]</span><br></pre></td></tr></table></figure>

<p>其中 <em>电脑上的目录</em> 参数可以省略，默认复制到当前目录。</p>
<p>例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull /sdcard/sr.mp4 ~/tmp/</span><br></pre></td></tr></table></figure>

<blockquote>
<p>小技巧：设备上的文件路径可能需要 root 权限才能访问，如果你的设备已经 root 过，可以先使用 adb shell 和 su 命令在<br>adb shell 里获取 root 权限后，先 cp /path/on/device /sdcard/filename 将文件复制到<br>sdcard，然后 adb pull /sdcard/filename /path/on/pc。</p>
</blockquote>
<p><strong>4.2- 复制电脑里的文件到设备</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb push &lt;电脑上的文件路径&gt; &lt;设备里的目录&gt;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb push ~/sr.mp4 /sdcard/</span><br></pre></td></tr></table></figure>

<blockquote>
<p>小技巧：设备上的文件路径普通权限可能无法直接写入，如果你的设备已经 root 过，可以先 adb push /path/on/pc<br>/sdcard/filename，然后 adb shell 和 su 在 adb shell 里获取 root 权限后，cp<br>/sdcard/filename /path/on/device。</p>
</blockquote>
<hr>
<h2 id="5-查看日志"><a href="#5-查看日志" class="headerlink" title="5- 查看日志"></a><strong>5- 查看日志</strong></h2><hr>
<p><strong>5.1- Android 日志</strong></p>
<p>命令格式：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[adb] logcat [&lt;option&gt;] ... [&lt;filter-spec&gt;] ...</span><br></pre></td></tr></table></figure>
<p><strong>5.1.1- 按级别过滤日志</strong></p>
<p>Android 的日志分为如下几个优先级（priority）：</p>
<p>V —— Verbose（最低，输出得最多）<br>D —— Debug<br>I —— Info<br>W —— Warning<br>E —— Error<br>F —— Fatal<br>S —— Silent（最高，啥也不输出）<br>按某级别过滤日志则会将该级别及以上的日志输出。</p>
<p>比如，命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb logcat *:W</span><br></pre></td></tr></table></figure>

<p>会将 Warning、Error、Fatal 和 Silent 日志输出。</p>
<blockquote>
<p>（注： 在 macOS 下需要给 *:W 这样以 * 作为 tag 的参数加双引号，如 adb logcat “*:W”，不然会报错 no<br>matches found: *:W。）</p>
</blockquote>
<p><strong>5.1.2- 按 tag 和级别过滤日志</strong></p>
<p><filter-spec> 可以由多个 <tag>[:priority] 组成。</p>
<p>比如，命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb logcat ActivityManager:I MyApp:D *:S</span><br></pre></td></tr></table></figure>

<p>表示输出 tag ActivityManager 的 Info 以上级别日志，输出 tag MyApp 的 Debug 以上级别日志，及其它 tag 的 Silent 级别日志（即屏蔽其它 tag 日志）。</p>
<p><strong>5.2- 常用打印日志命令</strong></p>
<ul>
<li>命令行打印日志<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb logcat -v time </span><br></pre></td></tr></table></figure></li>
<li>输出日志到本地 log.txt 文件</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb logcat -v time &gt;<span class="built_in">log</span>.txt</span><br></pre></td></tr></table></figure>
<ul>
<li>清空日志</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb logcat -c</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="6-查看设备信息"><a href="#6-查看设备信息" class="headerlink" title="6- 查看设备信息"></a>6- 查看设备信息</h2><hr>
<p><strong>6.1- 型号</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro.product.model</span><br></pre></td></tr></table></figure>

<p>输出示例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Nexus <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p><strong>6.2- 电池状况</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys battery</span><br></pre></td></tr></table></figure>

<p>输入示例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Current Battery Service state:</span><br><span class="line">  AC powered: <span class="literal">false</span></span><br><span class="line">  USB powered: <span class="literal">true</span></span><br><span class="line">  Wireless powered: <span class="literal">false</span></span><br><span class="line">  status: <span class="number">2</span></span><br><span class="line">  health: <span class="number">2</span></span><br><span class="line">  present: <span class="literal">true</span></span><br><span class="line">  level: <span class="number">44</span></span><br><span class="line">  scale: <span class="number">100</span></span><br><span class="line">  voltage: <span class="number">3872</span></span><br><span class="line">  temperature: <span class="number">280</span></span><br><span class="line">  technology: Li-poly</span><br></pre></td></tr></table></figure>

<p>其中 scale 代表最大电量，level 代表当前电量。上面的输出表示还剩下 44% 的电量。</p>
<p><strong>6.3- 屏幕分辨率</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell wm size</span><br></pre></td></tr></table></figure>

<p>输出示例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Physical size: <span class="number">1080</span>x1920</span><br></pre></td></tr></table></figure>

<p><strong>6.4- android_id</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell settings get secure android_id</span><br></pre></td></tr></table></figure>

<p>输出示例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">51b</span>6be48bac8c569</span><br></pre></td></tr></table></figure>
<p><strong>6.5- Android 系统版本</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro.build.version.release</span><br></pre></td></tr></table></figure>

<p>输出示例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5.0</span><span class="number">.2</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="7-实用功能"><a href="#7-实用功能" class="headerlink" title="7- 实用功能"></a>7- 实用功能</h2><hr>
<p> <strong>7.1- 屏幕截图</strong></p>
<p>截图保存到电脑：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb exec-out screencap -p &gt; sc.png</span><br></pre></td></tr></table></figure>

<p>如果 adb 版本较老，无法使用 exec-out 命令，这时候建议更新 adb 版本。无法更新的话可以使用以下麻烦点的办法：</p>
<p>先截图保存到设备里：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screencap -p /sdcard/sc.png</span><br></pre></td></tr></table></figure>

<p>然后将 png 文件导出到电脑：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull /sdcard/sc.png</span><br></pre></td></tr></table></figure>

<p><strong>7.2- 屏幕录制</strong></p>
<p>录制屏幕以 mp4 格式保存到 /sdcard：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screenrecord /sdcard/filename.mp4</span><br></pre></td></tr></table></figure>

<p>需要停止时按 <strong>Ctrl-C</strong>，默认录制时间和最长录制时间都是 180 秒。</p>
<p>如果需要导出到电脑：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull /sdcard/filename.mp4</span><br></pre></td></tr></table></figure>

<p><strong>7.3- 重启手机</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb reboot</span><br></pre></td></tr></table></figure>
<p><strong>7.4- 检测设备是否已 root</strong></p>
<p>命令：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br><span class="line">su</span><br></pre></td></tr></table></figure>

<p>此时命令行提示符是 $ 则表示没有 root 权限，是 # 则表示已 root。</p>
<p><strong>7.5- 使用 Monkey 进行压力测试</strong></p>
<p>Monkey 可以生成伪随机用户事件来模拟单击、触摸、手势等操作，可以对正在开发中的程序进行随机压力测试。</p>
<p>简单用法：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -p &lt;packagename&gt; -v <span class="number">500</span></span><br></pre></td></tr></table></figure>

<p>表示向 <packagename> 指定的应用程序发送 500 个伪随机事件。</p>
</div><div class="tags"></div><div class="post-share"></div><div class="post-nav"><a href="/2021/01/13/PlantUML-%E7%A8%8B%E5%BA%8F%E5%91%98%E7%BB%98%E5%9B%BE%E5%B7%A5%E5%85%B7%E3%80%8C%E6%B5%81%E7%A8%8B%E5%9B%BE%E3%80%81%E7%94%A8%E4%BE%8B%E5%9B%BE%E3%80%81%E6%97%B6%E5%BA%8F%E5%9B%BE%E7%AD%89%E7%AD%89%E3%80%8D/" class="pre">PlantUML-程序员绘图工具「流程图、用例图、时序图等等」</a><a href="/2020/11/18/Mac%E4%B8%8Bjenkins%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4/" class="next">Mac下jenkins安装步骤</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">Contents</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Android-%E8%B0%83%E8%AF%95%E6%A1%A5-adb"><span class="toc-text">Android 调试桥 (adb)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-text">1- 基本用法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%AE%BE%E5%A4%87%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86"><span class="toc-text">2- 设备连接管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%BA%94%E7%94%A8%E7%AE%A1%E7%90%86"><span class="toc-text">3- 应用管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86"><span class="toc-text">4- 文件管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97"><span class="toc-text">5- 查看日志</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%9F%A5%E7%9C%8B%E8%AE%BE%E5%A4%87%E4%BF%A1%E6%81%AF"><span class="toc-text">6- 查看设备信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD"><span class="toc-text">7- 实用功能</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/07/09/Android-File%E6%96%87%E4%BB%B6%E3%80%8C%E9%87%8D%E5%91%BD%E5%90%8D%E3%80%8D%E5%92%8C%E3%80%8C%E5%88%A0%E9%99%A4%E3%80%8D%E6%93%8D%E4%BD%9C/">Android File文件「重命名」和「删除」操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/07/07/%E4%BD%BF%E7%94%A8shell%E5%91%BD%E4%BB%A4%E6%A0%A1%E9%AA%8CAndroid-apk%E7%9A%84%E7%AD%BE%E5%90%8D%E4%BF%A1%E6%81%AF%E3%80%81%E6%A0%A1%E9%AA%8Capk%E6%98%AF%E5%90%A6%E4%BD%BF%E7%94%A8v1v2v3v4%E7%AD%BE%E5%90%8D/">使用shell命令校验Android apk的签名信息、校验apk是否使用v1v2v3v4签名</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/25/x-%E4%B8%8E-x-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%95%B4%E7%90%86/">x++ 与 ++x 的区别整理</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/18/Android%E4%B8%AD%E7%9A%84MVP%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/">Android中的MVP模式学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/09/TortoiseGit-%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/">TortoiseGit 使用教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/08/bash-gradlew-Permission-denied-%E6%8A%A5%E9%94%99/">bash: ./gradlew: Permission denied 报错</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/07/%E5%8D%8E%E4%B8%BAHMS-Scankit-%E6%89%AB%E7%A0%81SDK%E9%9B%86%E6%88%90-%E5%AE%9E%E7%8E%B0%E6%89%AB%E4%B8%80%E6%89%AB%E5%8A%9F%E8%83%BD/">华为HMS Scankit 扫码SDK集成-实现扫一扫功能</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/03/TortoiseSVN-%E6%89%93Tags/">TortoiseSVN 打Tags</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/25/Android-Studio-%E5%BC%95%E5%85%A5aar%E6%96%87%E4%BB%B6/">Android Studio 引入aar文件</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/25/Android-String%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/">Android String字符串截取方法总结</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> Tags</i></div><div class="tagcloud"><a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/android-protectionLevel/" style="font-size: 15px;">android:protectionLevel</a> <a href="/tags/Android-Studio/" style="font-size: 15px;">Android Studio</a> <a href="/tags/Android-Webview/" style="font-size: 15px;">Android Webview</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> Archive</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021</a><span class="archive-list-count">22</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">53</span></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Site Map</a> |  <a href="/atom.xml">Subscribe to this site</a> |  <a href="/about/">Contact the blogger</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">fenglolo.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a target="_blank" rel="noopener" href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.5"></script><div id="fullscreen-img" class="hide"><span class="close"></span></div><script type="text/javascript" src="/js/imgview.js?v=2.0.5" async></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.5" async></script></body></html>